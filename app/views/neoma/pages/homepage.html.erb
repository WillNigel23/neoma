<section class='w-full bg-white z-20'>
  <%= fe_carousel do %>
    <%= fe_carousel_wrapper do %>
      <% exhibits.each do |exhibit| %>
        <%= fe_carousel_item do %>
          <%= fe_banner do %>
            <%= fe_banner_img(exhibit.content(:banner).spina_image) %>

            <%= fe_banner_inner do %>
              <%= fe_banner_preheader(exhibit.content(:date)) if exhibit.content(:date) %>
              <%= fe_banner_header(exhibit.content(:header)) if exhibit.content(:header) %>
              <%= fe_banner_subheader(exhibit.content(:subheader)) if exhibit.content(:subheader) %>
              <%= fe_banner_link('Explore Now', exhibit.materialized_path) %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
</section>

<section class='w-full bg-white z-20 py-10' data-controller='scroll-reveal'>
  <div class='flex flex-col w-full container py-5 justify-center items-start mx-auto px-5 my-5'>
    <% if @exhibits.live.any? %>
      <h2 class='font-bold reveal' data-scroll-reveal-target='item' data-delay='250ms'> Exhibits </h2>
      <hr class='w-full my-5 reveal' data-scroll-reveal-target='item' data-delay='500ms'>

      <div class='grid grid-cols-1 md:grid-cols-2 gap-5 w-full mt-5'>
        <% @exhibits.live.each do |exhibit| %>
          <div class='relative flex flex-col reveal' data-scroll-reveal-target='item'>
            <%= link_to exhibit.materialized_path, class: 'sticky top-5 md:top-1/4'  do %>
              <span class='flex flex-col'>
                <%= exhibit.content.image_tag(:banner, {}, class: 'transition-all duration-500 hover:scale-110 mb-5') %>
                <h3 class='font-bold text-xl mb-2'> <%= exhibit.content(:header) %> </h3>
                <p class='text-light text-sm'> <%= exhibit.content(:subheader) %> </p>
                <p class='text-light text-sm text-gray-800'> <%= exhibit.content(:date) %> </p>
              </span>
            <% end %>
          </div>
          <div class='hidden md:grid grid-cols-2 gap-5 w-full reveal' data-scroll-reveal-target='item'>
            <% if exhibit.content(:artpieces).any? %>
              <% exhibit.content(:artpieces)&.in_groups_of((exhibit.content(:artpieces).length / 2.0).ceil) do |group| %>
                <div class='flex flex-col'>
                  <% group.compact.each do |artwork| %>
                    <%= link_to artwork.materialized_path, class: 'mb-5' do %>
                      <span class='flex flex-col w-full'>
                        <%= artwork.content.image_tag(:image, {}, class: 'transition-all duration-500 hover:scale-110') %>
                        <h3 class='font-bold text-xl mb-2'> <%= artwork.content(:header) %> </h3>
                        <p class='text-light text-sm'> <%= artwork.content(:subheader) %> </p>
                        <p class='text-light text-sm text-gray-800'> â‚±<%= artwork.content(:price) %> </p>
                      </span>
                    <% end %>
                  <% end %>
                </div>
              <% end %>
            <% end %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</section>
