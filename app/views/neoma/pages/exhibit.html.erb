<!-- Banner -->
<%= fe_banner do %>
  <%= fe_banner_img(content.image_url(:banner)) %>

  <%= fe_banner_inner do %>
    <%= fe_banner_preheader(content(:date)) if content(:date) %>
    <%= fe_banner_header(content(:header)) if content(:header) %>
    <%= fe_banner_subheader(content(:subheader)) if content(:subheader) %>
  <% end %>
<% end %>

<!-- Padding -->
<section class="w-full min-h-screen">
</section>

<!-- Content -->
<section class="w-full bg-white z-20">
  <% repeater(:section) do |block| %>
    <%= fe_carousel do %>
      <%= fe_carousel_wrapper do %>
        <% block.content(:carousel).each do |img| %>
          <%= fe_carousel_item do %>
            <div class="flex justify-center items-center">
              <%= content.image_tag img, resize_to_fill: [1920, 1080] %>
            </div>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
</section>

<section class="w-full bg-white z-20">
  <% repeater(:section) do |block| %>
    <% if block.content(:carousel) %>
      <div data-controller="carousel"
        class="swiper swiper-initialized swiper-horizontal swiper-pointer-events swiper-backface-hidden"
        data-carousel-options-value='
        {
          "navigation": {
            "nextEl": ".swiper-button-next",
            "prevEl": ".swiper-button-prev"
          },
          "pagination": {
            "el": ".swiper-pagination",
            "type": "bullets"
          },
          "keyboard": {
            "enabled": "true",
            "onlyInViewport": "false"
          },
          "loop": "true",
          "effect": "fade",
          "fadeEffect": {
            "crossFade": "true"
          },
          "autoplay": {
            "delay": "5000"
          }
        }'
      >
        <div class="swiper-wrapper" id="swiper-wrapper-f4cd29c2e54b216f" aria-live="polite">
          <% block.content(:carousel).each do |img| %>
            <div class="swiper-slide swiper-slide-active" role="group" style="width: 100%;">
              <div class="flex justify-center items-center">
                <%= content.image_tag img, resize_to_fill: [1920, 1080] %>
              </div>
            </div>
          <% end %>
        </div>

        <div class="swiper-pagination"></div>
        <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
      </div>
    <% end %>

    <% if block.content(:body) %>
      <div class="container w-full py-5 md:py-10 mx-auto px-5 my-5" data-controller="scroll-reveal">
        <h2 class="font-bold reveal" data-scroll-reveal-target="item" data-delay="250ms"><%= block.content(:header) %></h2>
        <hr class="w-full my-5 reveal" data-scroll-reveal-target="item" data-delay="500ms">
        <div class="markdown reveal" data-scroll-reveal-target="item" data-delay="750ms">
          <%= block.content.html(:body)%>
        </div>
      </div>
    <% end %>
  <% end %>

  <div class="container w-full py-5 md:py-10 mx-auto px-5 my-5" data-controller="scroll-reveal">
    <h2 class="font-bold reveal" data-scroll-reveal-target="item" data-delay="250ms">Selected Works</h2>
    <hr class="w-full my-5 reveal" data-scroll-reveal-target="item" data-delay="500ms">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 reveal" data-scroll-reveal-target="item" data-delay="750ms">
      <% content(:artpieces).each do |artwork| %>
        <%= link_to artwork.materialized_path do %>
          <span class="flex flex-col transition-all duration-500 hover:scale-110">
            <%= artwork.content.image_tag(:image, resize_to_fill: [450, 500]) %>
            <h3 class="font-bold my-3"><%= artwork.content(:header) %></h3>
            <div class="font-light text-sm">
              <%= artwork.content.html(:details) %>
            </div>
          </span>
        <% end %>
      <% end %>
    </div>
  </div>
</section>
